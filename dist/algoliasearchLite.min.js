/*! algoliasearch UNRELEASED | Â© 2014, 2015 Algolia SAS | github.com/algolia/algoliasearch-client-js */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.algoliasearch=e()}}(function(){var e;return function t(e,o,r){function n(i,a){if(!o[i]){if(!e[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=o[i]={exports:{}};e[i][0].call(l.exports,function(t){var o=e[i][1][t];return n(o?o:t)},l,l.exports,t,e,o,r)}return o[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)n(r[i]);return n}({1:[function(e,t,o){function r(){l=!1,a.length?u=a.concat(u):p=-1,u.length&&n()}function n(){if(!l){var e=setTimeout(r);l=!0;for(var t=u.length;t;){for(a=u,u=[];++p<t;)a&&a[p].run();p=-1,t=u.length}a=null,l=!1,clearTimeout(e)}}function s(e,t){this.fun=e,this.array=t}function i(){}var a,c=t.exports={},u=[],l=!1,p=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];u.push(new s(e,t)),1!==u.length||l||setTimeout(n,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=i,c.addListener=i,c.once=i,c.off=i,c.removeListener=i,c.removeAllListeners=i,c.emit=i,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],2:[function(e,t,o){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function n(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+o.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var n=0,s=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(s=n))}),e.splice(s,0,r),e}function s(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(e){try{null==e?o.storage.removeItem("debug"):o.storage.debug=e}catch(t){}}function a(){var e;try{e=o.storage.debug}catch(t){}return e}function c(){try{return window.localStorage}catch(e){}}o=t.exports=e(3),o.log=s,o.formatArgs=n,o.save=i,o.load=a,o.useColors=r,o.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),o.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],o.formatters.j=function(e){return JSON.stringify(e)},o.enable(a())},{3:3}],3:[function(e,t,o){function r(){return o.colors[l++%o.colors.length]}function n(e){function t(){}function n(){var e=n,t=+new Date,s=t-(u||t);e.diff=s,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=o.useColors()),null==e.color&&e.useColors&&(e.color=r());var i=Array.prototype.slice.call(arguments);i[0]=o.coerce(i[0]),"string"!=typeof i[0]&&(i=["%o"].concat(i));var a=0;i[0]=i[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;a++;var n=o.formatters[r];if("function"==typeof n){var s=i[a];t=n.call(e,s),i.splice(a,1),a--}return t}),"function"==typeof o.formatArgs&&(i=o.formatArgs.apply(e,i));var c=n.log||o.log||console.log.bind(console);c.apply(e,i)}t.enabled=!1,n.enabled=!0;var s=o.enabled(e)?n:t;return s.namespace=e,s}function s(e){o.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,n=0;r>n;n++)t[n]&&(e=t[n].replace(/\*/g,".*?"),"-"===e[0]?o.skips.push(new RegExp("^"+e.substr(1)+"$")):o.names.push(new RegExp("^"+e+"$")))}function i(){o.enable("")}function a(e){var t,r;for(t=0,r=o.skips.length;r>t;t++)if(o.skips[t].test(e))return!1;for(t=0,r=o.names.length;r>t;t++)if(o.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}o=t.exports=n,o.coerce=c,o.disable=i,o.enable=s,o.enabled=a,o.humanize=e(4),o.names=[],o.skips=[],o.formatters={};var u,l=0},{4:4}],4:[function(e,t,o){function r(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var o=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return o*p;case"days":case"day":case"d":return o*l;case"hours":case"hour":case"hrs":case"hr":case"h":return o*u;case"minutes":case"minute":case"mins":case"min":case"m":return o*c;case"seconds":case"second":case"secs":case"sec":case"s":return o*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o}}}}function n(e){return e>=l?Math.round(e/l)+"d":e>=u?Math.round(e/u)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function s(e){return i(e,l,"day")||i(e,u,"hour")||i(e,c,"minute")||i(e,a,"second")||e+" ms"}function i(e,t,o){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+o:Math.ceil(e/t)+" "+o+"s"}var a=1e3,c=60*a,u=60*c,l=24*u,p=365.25*l;t.exports=function(e,t){return t=t||{},"string"==typeof e?r(e):t["long"]?s(e):n(e)}},{}],5:[function(t,o,r){(function(r,n){(function(){"use strict";function s(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function a(e){$=e}function c(e){Y=e}function u(){return function(){r.nextTick(d)}}function l(){return function(){K(d)}}function p(){var e=0,t=new Z(d),o=document.createTextNode("");return t.observe(o,{characterData:!0}),function(){o.data=e=++e%2}}function f(){var e=new MessageChannel;return e.port1.onmessage=d,function(){e.port2.postMessage(0)}}function h(){return function(){setTimeout(d,1)}}function d(){for(var e=0;V>e;e+=2){var t=oe[e],o=oe[e+1];t(o),oe[e]=void 0,oe[e+1]=void 0}V=0}function y(){try{var e=t,o=e("vertx");return K=o.runOnLoop||o.runOnContext,l()}catch(r){return h()}}function m(e,t){var o=this,r=o._state;if(r===ie&&!e||r===ae&&!t)return this;var n=new this.constructor(g),s=o._result;if(r){var i=arguments[r-1];Y(function(){P(r,n,i,s)})}else N(o,n,e,t);return n}function v(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var o=new t(g);return k(o,e),o}function g(){}function w(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function _(e){try{return e.then}catch(t){return ce.error=t,ce}}function x(e,t,o,r){try{e.call(t,o,r)}catch(n){return n}}function S(e,t,o){Y(function(e){var r=!1,n=x(o,t,function(o){r||(r=!0,t!==o?k(e,o):O(e,o))},function(t){r||(r=!0,q(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&n&&(r=!0,q(e,n))},e)}function T(e,t){t._state===ie?O(e,t._result):t._state===ae?q(e,t._result):N(t,void 0,function(t){k(e,t)},function(t){q(e,t)})}function A(e,t,o){t.constructor===e.constructor&&o===re&&constructor.resolve===ne?T(e,t):o===ce?q(e,ce.error):void 0===o?O(e,t):i(o)?S(e,t,o):O(e,t)}function k(e,t){e===t?q(e,w()):s(t)?A(e,t,_(t)):O(e,t)}function j(e){e._onerror&&e._onerror(e._result),C(e)}function O(e,t){e._state===se&&(e._result=t,e._state=ie,0!==e._subscribers.length&&Y(C,e))}function q(e,t){e._state===se&&(e._state=ae,e._result=t,Y(j,e))}function N(e,t,o,r){var n=e._subscribers,s=n.length;e._onerror=null,n[s]=t,n[s+ie]=o,n[s+ae]=r,0===s&&e._state&&Y(C,e)}function C(e){var t=e._subscribers,o=e._state;if(0!==t.length){for(var r,n,s=e._result,i=0;i<t.length;i+=3)r=t[i],n=t[i+o],r?P(o,r,n,s):n(s);e._subscribers.length=0}}function E(){this.error=null}function R(e,t){try{return e(t)}catch(o){return ue.error=o,ue}}function P(e,t,o,r){var n,s,a,c,u=i(o);if(u){if(n=R(o,r),n===ue?(c=!0,s=n.error,n=null):a=!0,t===n)return void q(t,b())}else n=r,a=!0;t._state!==se||(u&&a?k(t,n):c?q(t,s):e===ie?O(t,n):e===ae&&q(t,n))}function I(e,t){try{t(function(t){k(e,t)},function(t){q(e,t)})}catch(o){q(e,o)}}function J(e){return new ye(this,e).promise}function U(e){function t(e){k(n,e)}function o(e){q(n,e)}var r=this,n=new r(g);if(!G(e))return q(n,new TypeError("You must pass an array to race.")),n;for(var s=e.length,i=0;n._state===se&&s>i;i++)N(r.resolve(e[i]),void 0,t,o);return n}function D(e){var t=this,o=new t(g);return q(o,e),o}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function L(e){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&M(),this instanceof L?I(this,e):H())}function F(e,t){this._instanceConstructor=e,this.promise=new e(g),Array.isArray(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&O(this.promise,this._result))):q(this.promise,this._validationError())}function B(){var e;if("undefined"!=typeof n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var o=e.Promise;o&&"[object Promise]"===Object.prototype.toString.call(o.resolve())&&!o.cast||(e.Promise=de)}var X;X=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var K,$,z,G=X,V=0,Y=function(e,t){oe[V]=e,oe[V+1]=t,V+=2,2===V&&($?$(d):z())},Q="undefined"!=typeof window?window:void 0,W=Q||{},Z=W.MutationObserver||W.WebKitMutationObserver,ee="undefined"!=typeof r&&"[object process]"==={}.toString.call(r),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,oe=new Array(1e3);z=ee?u():Z?p():te?f():void 0===Q&&"function"==typeof t?y():h();var re=m,ne=v,se=void 0,ie=1,ae=2,ce=new E,ue=new E,le=J,pe=U,fe=D,he=0,de=L;L.all=le,L.race=pe,L.resolve=ne,L.reject=fe,L._setScheduler=a,L._setAsap=c,L._asap=Y,L.prototype={constructor:L,then:re,"catch":function(e){return this.then(null,e)}};var ye=F;F.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},F.prototype._enumerate=function(){for(var e=this.length,t=this._input,o=0;this._state===se&&e>o;o++)this._eachEntry(t[o],o)},F.prototype._eachEntry=function(e,t){var o=this._instanceConstructor,r=o.resolve;if(r===ne){var n=_(e);if(n===re&&e._state!==se)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(o===de){var s=new o(g);A(s,e,n),this._willSettleAt(s,t)}else this._willSettleAt(new o(function(t){t(e)}),t)}else this._willSettleAt(r(e),t)},F.prototype._settledAt=function(e,t,o){var r=this.promise;r._state===se&&(this._remaining--,e===ae?q(r,o):this._result[t]=o),0===this._remaining&&O(r,this._result)},F.prototype._willSettleAt=function(e,t){var o=this;N(e,void 0,function(e){o._settledAt(ie,t,e)},function(e){o._settledAt(ae,t,e)})};var me=B,ve={Promise:de,polyfill:me};"function"==typeof e&&e.amd?e(function(){return ve}):"undefined"!=typeof o&&o.exports?o.exports=ve:"undefined"!=typeof this&&(this.ES6Promise=ve),me()}).call(this)}).call(this,t(1),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],6:[function(e,t,o){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(e,t,o){if("[object Function]"!==n.call(t))throw new TypeError("iterator must be a function");var s=e.length;if(s===+s)for(var i=0;s>i;i++)t.call(o,e[i],i,e);else for(var a in e)r.call(e,a)&&t.call(o,e[a],a,e)}},{}],7:[function(e,t,o){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}},{}],8:[function(e,t,o){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],9:[function(e,t,o){"use strict";function r(e,t){if(e.map)return e.map(t);for(var o=[],r=0;r<e.length;r++)o.push(t(e[r],r));return o}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,o,a){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?r(i(e),function(i){var a=encodeURIComponent(n(i))+o;return s(e[i])?r(e[i],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[i]))}).join(t):a?encodeURIComponent(n(a))+o+encodeURIComponent(n(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.keys||function(e){var t=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.push(o);return t}},{}],10:[function(e,t,o){function r(t,o,r){var s=e(2)("algoliasearch"),a=e(18),u=e(8),l=e(21),p="Usage: algoliasearch(applicationID, apiKey, opts)";if(!t)throw new c.AlgoliaSearchError("Please provide an application ID. "+p);if(!o)throw new c.AlgoliaSearchError("Please provide an API key. "+p);this.applicationID=t,this.apiKey=o;var f=i([this.applicationID+"-1.algolianet.com",this.applicationID+"-2.algolianet.com",this.applicationID+"-3.algolianet.com"]);this.hosts={read:[],write:[]},this.hostIndex={read:0,write:0},r=r||{};var h=r.protocol||"https:",d=void 0===r.timeout?2e3:r.timeout;if(/:$/.test(h)||(h+=":"),"http:"!==r.protocol&&"https:"!==r.protocol)throw new c.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+r.protocol+"`)");r.hosts?u(r.hosts)?(this.hosts.read=a(r.hosts),this.hosts.write=a(r.hosts)):(this.hosts.read=a(r.hosts.read),this.hosts.write=a(r.hosts.write)):(this.hosts.read=[this.applicationID+"-dsn.algolia.net"].concat(f),this.hosts.write=[this.applicationID+".algolia.net"].concat(f)),this.hosts.read=l(this.hosts.read,n(h)),this.hosts.write=l(this.hosts.write,n(h)),this.requestTimeout=d,this.extraHeaders=[],this.cache=r._cache||{},this._ua=r._ua,this._useCache=void 0===r._useCache||r._cache?!0:r._useCache,this._useFallback=void 0===r.useFallback?!0:r.useFallback,this._setTimeout=r._setTimeout,s("init done, %j",this)}function n(e){return function(t){return e+"//"+t.toLowerCase()}}function s(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var o=JSON.stringify(e);return Array.prototype.toJSON=t,o}function i(e){for(var t,o,r=e.length;0!==r;)o=Math.floor(Math.random()*r),r-=1,t=e[r],e[r]=e[o],e[o]=t;return e}function a(e){var t={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r;r="x-algolia-api-key"===o||"x-algolia-application-id"===o?"**hidden for security purposes**":e[o],t[o]=r}return t}t.exports=r;var c=e(19),u=e(20),l=e(11),p=500;r.prototype.initIndex=function(e){return new l(this,e)},r.prototype.setExtraHeader=function(e,t){this.extraHeaders.push({name:e.toLowerCase(),value:t})},r.prototype.addAlgoliaAgent=function(e){this._ua+=";"+e},r.prototype._jsonRequest=function(t){function o(e,u){function p(e){var t=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;i("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,t,e.headers);var o=200===t||201===t,s=!o&&4!==Math.floor(t/100)&&1!==Math.floor(t/100);if(f._useCache&&o&&l&&(l[w]=e.responseText),o)return e.body;var p=new Date;if(m.push({currentHost:_,headers:a(n),content:r||null,contentLength:void 0!==r?r.length:null,method:u.method,timeout:u.timeout,url:u.url,startTime:b,endTime:p,duration:p-b}),s)return h+=1,g();var d=new c.AlgoliaSearchError(e.body&&e.body.message,{debugData:m});return f._promise.reject(d)}function v(s){i("error: %s, stack: %s",s.message,s.stack);var l=new Date;return m.push({currentHost:_,headers:a(n),content:r||null,contentLength:void 0!==r?r.length:null,method:u.method,timeout:u.timeout,url:u.url,startTime:b,endTime:l,duration:l-b}),s instanceof c.AlgoliaSearchError||(s=new c.Unknown(s&&s.message,s)),h+=1,s instanceof c.Unknown||s instanceof c.UnparsableJSON||h>=f.hosts[t.hostType].length&&(d||!y)?(s.debugData=m,f._promise.reject(s)):s instanceof c.RequestTimeout||s instanceof c.NodeNetwork?g():(d||(h=1/0),f.hostIndex[t.hostType]=(f.hostIndex[t.hostType]+1)%f.hosts[t.hostType].length,o(e,u))}function g(){return f.hostIndex[t.hostType]=(f.hostIndex[t.hostType]+1)%f.hosts[t.hostType].length,u.timeout=f.requestTimeout*(h+1),o(e,u)}var w,b=new Date;if(f._useCache&&(w=t.url),f._useCache&&r&&(w+="_body_"+u.body),f._useCache&&l&&void 0!==l[w])return i("serving response from cache"),f._promise.resolve(JSON.parse(l[w]));if(h>=f.hosts[t.hostType].length)return!y||d?(i("could not get any response"),f._promise.reject(new c.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+f.applicationID,{debugData:m}))):(i("switching to fallback"),h=0,u.method=t.fallback.method,u.url=t.fallback.url,u.jsonBody=t.fallback.body,u.jsonBody&&(u.body=s(u.jsonBody)),n=f._computeRequestHeaders(),u.timeout=f.requestTimeout*(h+1),f.hostIndex[t.hostType]=0,d=!0,o(f._request.fallback,u));var _=f.hosts[t.hostType][f.hostIndex[t.hostType]],x=_+u.url,S={body:u.body,jsonBody:u.jsonBody,method:u.method,headers:n,timeout:u.timeout,debug:i};return i("method: %s, url: %s, headers: %j, timeout: %d",S.method,x,S.headers,S.timeout),e===f._request.fallback&&i("using fallback"),e.call(f,x,S).then(p,v)}var r,n,i=e(2)("algoliasearch:"+t.url),l=t.cache,f=this,h=0,d=!1,y=f._useFallback&&f._request.fallback&&t.fallback;this.apiKey.length>p&&void 0!==t.body&&void 0!==t.body.params?(t.body.apiKey=this.apiKey,n=this._computeRequestHeaders(!1)):n=this._computeRequestHeaders(),void 0!==t.body&&(r=s(t.body)),i("request start");var m=[],v=o(f._request,{url:t.url,method:t.method,body:r,jsonBody:t.body,timeout:f.requestTimeout*(h+1)});return t.callback?void v.then(function(e){u(function(){t.callback(null,e)},f._setTimeout||setTimeout)},function(e){u(function(){t.callback(e)},f._setTimeout||setTimeout)}):v},r.prototype._getSearchParams=function(e,t){if(void 0===e||null===e)return t;for(var o in e)null!==o&&void 0!==e[o]&&e.hasOwnProperty(o)&&(t+=""===t?"":"&",t+=o+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[o])?s(e[o]):e[o]));return t},r.prototype._computeRequestHeaders=function(t){var o=e(6),r={"x-algolia-agent":this._ua,"x-algolia-application-id":this.applicationID};return t!==!1&&(r["x-algolia-api-key"]=this.apiKey),this.userToken&&(r["x-algolia-usertoken"]=this.userToken),this.securityTags&&(r["x-algolia-tagfilters"]=this.securityTags),this.extraHeaders&&o(this.extraHeaders,function(e){r[e.name]=e.value}),r},r.prototype.search=function(t,o,r){var n=e(8),s=e(21),i="Usage: client.search(arrayOfQueries[, callback])";if(!n(t))throw new Error(i);"function"==typeof o?(r=o,o={}):void 0===o&&(o={});var a=this,c={requests:s(t,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:a._getSearchParams(e.params,t)}})},u=s(c.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&"),l="/1/indexes/*/queries";return void 0!==o.strategy&&(l+="?strategy="+o.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:l,body:c,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:u}},callback:r})},r.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],o=0;o<e.length;++o)if("[object Array]"===Object.prototype.toString.call(e[o])){for(var r=[],n=0;n<e[o].length;++n)r.push(e[o][n]);t.push("("+r.join(",")+")")}else t.push(e[o]);e=t.join(",")}this.securityTags=e},r.prototype.setUserToken=function(e){this.userToken=e},r.prototype.clearCache=function(){this.cache={}},r.prototype.setRequestTimeout=function(e){e&&(this.requestTimeout=parseInt(e,10))}},{11:11,18:18,19:19,2:2,20:20,21:21,6:6,8:8}],11:[function(e,t,o){function r(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}var n=e(17);t.exports=r,r.prototype.clearCache=function(){this.cache={}},r.prototype.search=n("query"),r.prototype.similarSearch=n("similarQuery"),r.prototype._search=function(e,t,o){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:o})},r.prototype.as=null,r.prototype.indexName=null,r.prototype.typeAheadArgs=null,r.prototype.typeAheadValueOption=null},{17:17}],12:[function(e,t,o){"use strict";var r=e(10),n=e(13);t.exports=n(r,"(lite) ")},{10:10,13:13}],13:[function(e,t,o){(function(o){"use strict";var r=window.Promise||e(5).Promise;t.exports=function(t,n){function s(t,o,r){var n=e(18),a=e(14);return r=n(r||{}),void 0===r.protocol&&(r.protocol=a()),r._ua=r._ua||s.ua,new i(t,o,r)}function i(){t.apply(this,arguments)}var a=e(7),c=e(19),u=e(15),l=e(16),p=e(22);n=n||"","development"===o.env.APP_ENV&&e(2).enable("algoliasearch*"),s.version=e(23),s.ua="Algolia for vanilla JavaScript "+n+s.version,s.initPlaces=p(s),window.__algolia={debug:e(2),algoliasearch:s};var f={hasXMLHttpRequest:"XMLHttpRequest"in window,hasXDomainRequest:"XDomainRequest"in window,cors:"withCredentials"in new XMLHttpRequest,timeout:"timeout"in new XMLHttpRequest};return a(i,t),i.prototype._request=function(e,t){return new r(function(o,r){function n(){if(!l){f.timeout||clearTimeout(a);var e;try{e={body:JSON.parse(h.responseText),responseText:h.responseText,statusCode:h.status,headers:h.getAllResponseHeaders&&h.getAllResponseHeaders()||{}}}catch(t){e=new c.UnparsableJSON({more:h.responseText})}e instanceof c.UnparsableJSON?r(e):o(e)}}function s(e){l||(f.timeout||clearTimeout(a),r(new c.Network({more:e})))}function i(){f.timeout||(l=!0,h.abort()),r(new c.RequestTimeout)}if(!f.cors&&!f.hasXDomainRequest)return void r(new c.Network("CORS not supported"));e=u(e,t.headers);var a,l,p=t.body,h=f.cors?new XMLHttpRequest:new XDomainRequest;h instanceof XMLHttpRequest?h.open(t.method,e,!0):h.open(t.method,e),f.cors&&(p&&("POST"===t.method?h.setRequestHeader("content-type","application/x-www-form-urlencoded"):h.setRequestHeader("content-type","application/json")),h.setRequestHeader("accept","application/json")),h.onprogress=function(){},h.onload=n,h.onerror=s,f.timeout?(h.timeout=t.timeout,h.ontimeout=i):a=setTimeout(i,t.timeout),h.send(p)})},i.prototype._request.fallback=function(e,t){return e=u(e,t.headers),new r(function(o,r){l(e,t,function(e,t){return e?void r(e):void o(t)})})},i.prototype._promise={reject:function(e){return r.reject(e)},resolve:function(e){return r.resolve(e)},delay:function(e){return new r(function(t){setTimeout(t,e)})}},s}}).call(this,e(1))},{1:1,14:14,15:15,16:16,18:18,19:19,2:2,22:22,23:23,5:5,7:7}],14:[function(e,t,o){"use strict";function r(){var e=window.document.location.protocol;return"http:"!==e&&"https:"!==e&&(e="http:"),e}t.exports=r},{}],15:[function(e,t,o){"use strict";function r(e,t){return e+=/\?/.test(e)?"&":"?",e+n(t)}t.exports=r;var n=e(9)},{9:9}],16:[function(e,t,o){"use strict";function r(e,t,o){function r(){t.debug("JSONP: success"),y||p||(y=!0,l||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),a(),o(new n.JSONPScriptFail)))}function i(){"loaded"!==this.readyState&&"complete"!==this.readyState||r()}function a(){clearTimeout(m),h.onload=null,h.onreadystatechange=null,h.onerror=null,f.removeChild(h);try{delete window[d],delete window[d+"_loaded"]}catch(e){window[d]=null,window[d+"_loaded"]=null}}function c(){t.debug("JSONP: Script timeout"),p=!0,a(),o(new n.RequestTimeout)}function u(){t.debug("JSONP: Script error"),y||p||(a(),o(new n.JSONPScriptError))}if("GET"!==t.method)return void o(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var l=!1,p=!1;s+=1;var f=document.getElementsByTagName("head")[0],h=document.createElement("script"),d="algoliaJSONP_"+s,y=!1;window[d]=function(e){try{delete window[d]}catch(t){window[d]=void 0}p||(l=!0,a(),o(null,{body:e}))},e+="&callback="+d,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var m=setTimeout(c,t.timeout);h.onreadystatechange=i,h.onload=r,h.onerror=u,h.async=!0,h.defer=!0,h.src=e,f.appendChild(h)}t.exports=r;var n=e(19),s=0},{19:19}],17:[function(e,t,o){function r(e,t){return function(o,r,s){if("function"==typeof o&&"object"==typeof r||"object"==typeof s)throw new n.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof o?(s=o,o=""):1!==arguments.length&&"function"!=typeof r||(s=r,r=void 0),"object"==typeof o&&null!==o?(r=o,o=void 0):void 0!==o&&null!==o||(o="");var i="";return void 0!==o&&(i+=e+"="+encodeURIComponent(o)),void 0!==r&&(i=this.as._getSearchParams(r,i)),this._search(i,t,s)}}t.exports=r;var n=e(19)},{19:19}],18:[function(e,t,o){t.exports=function(e){return JSON.parse(JSON.stringify(e))}},{}],19:[function(e,t,o){"use strict";function r(t,o){var r=e(6),n=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):n.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=t||"Unknown error",o&&r(o,function(e,t){n[t]=e})}function n(e,t){function o(){var o=Array.prototype.slice.call(arguments,0);"string"!=typeof o[0]&&o.unshift(t),r.apply(this,o),this.name="AlgoliaSearch"+e+"Error"}return s(o,r),o}var s=e(7);s(r,Error),t.exports={AlgoliaSearchError:r,UnparsableJSON:n("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:n("RequestTimeout","Request timedout before getting a response"),Network:n("Network","Network issue, see err.more for details"),NodeNetwork:n("Network","Network issue, in the node context"),JSONPScriptFail:n("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:n("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:n("Unknown","Unknown error occured")}},{6:6,7:7}],20:[function(e,t,o){t.exports=function(e,t){t(e,0)}},{}],21:[function(e,t,o){var r=e(6);t.exports=function(e,t){var o=[];return r(e,function(r,n){o.push(t(r,n,e))}),o}},{6:6}],22:[function(e,t,o){function r(t){return function(o,r,s){var i=e(18);s=s&&i(s)||{},s.hosts=s.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"];var a=t(o,r,s),c=a.initIndex("places");return c.search=n("query","/1/places/query"),c}}t.exports=r;var n=e(17)},{17:17,18:18}],23:[function(e,t,o){"use strict";t.exports="3.14.1"},{}]},{},[12])(12)});
